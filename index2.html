<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Sistema de Ventas</title>
    <link rel="stylesheet" href="https://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.css">
    <script src="https://code.jquery.com/jquery-1.11.1.min.js"></script>
    <script src="https://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script>
</head>
<body>

    <!-- Página de Inicio de Sesión -->
    <div data-role="page" id="loginPage">
        <div data-role="header">
            <h1>Iniciar Sesión</h1>
        </div>

        <div data-role="content">
            <form id="loginForm">
                <label for="nombre">Nombre de Usuario:</label>
                <input type="text" name="nombre" id="nombre" placeholder="Tu usuario" required>

                <label for="password">Contraseña:</label>
                <input type="password" name="password" id="password" placeholder="Tu contraseña" required>

                <a href="#homeScreen" data-role="button">Iniciar Sesión</a>
                <a type="submit" href="productsPage" data-role="button">Registrarse</a>
            </form>
        </div>

        <div data-role="footer">
            <h4>© 2024 Tu Empresa</h4>
        </div>
    </div>

    <!-- Página de Productos -->
    <div id="homeScreen"data-role="page">
        <div data-role="header">
            <h1>Lista de Productos</h1>
            <a href="#cartPage" data-role="button" class="ui-btn-right">Carrito</a>
        </div>

        <div data-role="content">
            <ul data-role="listview" id="productsList" data-inset="true">
                <!-- Los productos se cargarán aquí dinámicamente -->
            </ul>
        </div>

        <div data-role="footer">
            <h4>© 2024 Tu Empresa</h4>
        </div>
    </div>

    <!-- Página del Carrito -->
    <div data-role="page" id="cartPage">
        <div data-role="header">
            <h1>Carrito de Compras</h1>
            <a href="#homeScreen" data-role="button" class="ui-btn-left">Volver a Productos</a>
        </div>

        <div data-role="content">
            <ul data-role="listview" id="cartList" data-inset="true">
                <!-- Los productos del carrito se cargarán aquí -->
            </ul>
            <button id="checkoutButton" data-role="button">Realizar Pedido</button>
        </div>

        <div data-role="footer">
            <h4>© 2024 Tu Empresa</h4>
        </div>
    </div>

    <!--script>
        // Simulación de inicio de sesión
        $("#loginForm").submit(function(event) {
            event.preventDefault();
            $.ajax({
                url: "productsPage",  // Colocar la URL de tu API
                type: "POST",
                data: {
                    nombre: $("#nombre").val(),
                    password: $("#password").val()
                },
                success: function(response) {
                    $.mobile.changePage("#productsPage");
                },
                error: function() {
                    alert("Error al iniciar sesión");
                }
            });
        });

        // Cargar productos
        $(document).on('pagebeforeshow', '#productsPage', function() {
            $.ajax({
                url: "https://example.com/api/productos",  // Colocar la URL de tu API
                type: "GET",
                success: function(response) {
                    var productos = response.productos;
                    var productosHtml = '';
                    productos.forEach(function(producto) {
                        productosHtml += '<li><a href="#">' + producto.nombre + ' - $' + producto.precio + '</a></li>';
                    });
                    $('#productsList').html(productosHtml).listview('refresh');
                },
                error: function() {
                    alert("Error al cargar productos");
                }
            });
        });

        // Cargar carrito
        $(document).on('pagebeforeshow', '#cartPage', function() {
            $.ajax({
                url: "https://example.com/api/carrito/123",  // Colocar la URL de tu API y el ID de usuario
                type: "GET",
                success: function(response) {
                    var carrito = response.carrito;
                    var carritoHtml = '';
                    carrito.forEach(function(item) {
                        carritoHtml += '<li><a href="#">' + item.producto.nombre + ' - ' + item.cantidad + ' x $' + item.producto.precio + '</a></li>';
                    });
                    $('#cartList').html(carritoHtml).listview('refresh');
                },
                error: function() {
                    alert("Error al cargar el carrito");
                }
            });
        });

        // Realizar pedido
        $("#checkoutButton").click(function() {
            $.ajax({
                url: "https://example.com/api/pedidos",  // Colocar la URL de tu API
                type: "POST",
                data: {
                    userId: 123,  // El ID de usuario actual
                    carrito: []   // Aquí incluir el carrito
                },
                success: function(response) {
                    alert("Pedido realizado con éxito");
                    $.mobile.changePage("#productsPage");
                },
                error: function() {
                    alert("Error al realizar el pedido");
                }
            });
        });
    </script-->
</body>
</html>
